# EasyTest 测试计划

## 1. 测试概述

### 1.1 测试目标
- 验证 EasyTest 平台的所有核心功能是否正常工作
- 确保系统稳定性和可靠性
- 发现并修复潜在的缺陷和问题
- 验证用户界面友好性和易用性

### 1.2 测试范围
- 用户认证模块
- 项目管理模块
- API 测试模块
- 环境管理模块
- Web 自动化测试模块
- 性能测试模块
- 测试报告模块
- 文档管理模块

### 1.3 测试策略
- 采用黑盒测试方法，从用户角度进行功能验证
- 结合自动化测试和手动测试
- 优先级分为 P0（核心功能）、P1（重要功能）、P2（辅助功能）
- 执行回归测试确保修复不影响现有功能

---

## 2. 功能测试

### 2.1 用户认证模块

#### TC-AUTH-001: 用户注册
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 系统已启动，访问注册页面 |
| **测试步骤** | 1. 输入用户名、密码、确认密码<br>2. 点击注册按钮<br>3. 检查是否跳转到登录页或自动登录 |
| **预期结果** | 注册成功，提示用户名已存在或跳转登录页面 |
| **备注** | 需测试密码强度验证 |

#### TC-AUTH-002: 用户登录
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已注册用户 |
| **测试步骤** | 1. 输入正确的用户名和密码<br>2. 点击登录按钮 |
| **预期结果** | 登录成功，跳转到仪表板页面 |
| **备注** | 默认账号: admin/admin123 |

#### TC-AUTH-003: 登录失败（错误凭证）
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已注册用户 |
| **测试步骤** | 1. 输入错误的用户名或密码<br>2. 点击登录按钮 |
| **预期结果** | 显示错误提示，保持登录页面 |

#### TC-AUTH-004: Token 自动刷新
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 用户已登录 |
| **测试步骤** | 1. 等待 Token 接近过期<br>2. 执行需要认证的操作 |
| **预期结果** | Token 自动刷新，操作正常执行，用户无感知 |

#### TC-AUTH-005: 退出登录
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 用户已登录 |
| **测试步骤** | 1. 点击退出按钮<br>2. 确认退出 |
| **预期结果** | 退出成功，跳转到登录页面，Token 被清除 |

---

### 2.2 项目管理模块

#### TC-PROJ-001: 创建项目
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 用户已登录 |
| **测试步骤** | 1. 点击"新建项目"按钮<br>2. 输入项目名称、描述<br>3. 点击保存 |
| **预期结果** | 项目创建成功，出现在项目列表中 |

#### TC-PROJ-002: 编辑项目
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已有项目 |
| **测试步骤** | 1. 点击项目编辑按钮<br>2. 修改项目信息<br>3. 点击保存 |
| **预期结果** | 项目信息更新成功 |

#### TC-PROJ-003: 删除项目
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已有项目 |
| **测试步骤** | 1. 点击项目删除按钮<br>2. 确认删除 |
| **预期结果** | 项目删除成功，从列表中消失 |

#### TC-PROJ-004: 切换项目
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 有多个项目 |
| **测试步骤** | 1. 在项目列表中选择另一个项目<br>2. 点击进入 |
| **预期结果** | 成功切换到目标项目，显示对应数据 |

---

### 2.3 API 测试模块

#### TC-API-001: 创建测试用例
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 用户已登录，已选择项目 |
| **测试步骤** | 1. 进入 API 测试工作区<br>2. 输入用例名称<br>3. 选择请求方法（GET/POST/PUT/DELETE）<br>4. 输入 URL<br>5. 配置 Headers、Params、Body<br>6. 点击保存 |
| **预期结果** | 用例保存成功，出现在用例列表中 |

#### TC-API-002: 快速测试（发送请求）
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 用户已登录 |
| **测试步骤** | 1. 在工作区输入请求信息<br>2. 点击"发送"按钮<br>3. 查看响应结果 |
| **预期结果** | 请求发送成功，显示响应状态码、响应体、响应时间 |

#### TC-API-003: 环境变量应用
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已配置环境，有环境变量 |
| **测试步骤** | 1. 选择环境<br>2. 输入包含 `{{var}}` 的 URL<br>3. 点击"应用配置"或"发送" |
| **预期结果** | 环境变量被正确替换，请求成功发送 |

#### TC-API-004: 集合批量执行
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 有测试集合，集合中有多个用例 |
| **测试步骤** | 1. 进入集合管理页面<br>2. 选择测试集合<br>3. 选择环境（可选）<br>4. 点击"运行集合" |
| **预期结果** | 集合中的所有用例按顺序执行，显示执行结果 |

#### TC-API-005: cURL 导出
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 已有测试用例 |
| **测试步骤** | 1. 打开测试用例<br>2. 点击"导出 cURL"按钮 |
| **预期结果** | 成功生成可执行的 cURL 命令 |

#### TC-API-006: 请求头管理
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 用户已登录 |
| **测试步骤** | 1. 在 Headers 区域添加多个请求头<br>2. 发送请求<br>3. 检查请求头是否正确发送 |
| **预期结果** | 所有请求头正确发送到服务器 |

---

### 2.4 环境管理模块

#### TC-ENV-001: 创建环境
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 用户已登录，已选择项目 |
| **测试步骤** | 1. 进入环境管理页面<br>2. 点击"新建环境"<br>3. 输入环境名称、基础URL<br>4. 添加环境变量<br>5. 添加 Headers<br>6. 保存 |
| **预期结果** | 环境创建成功，出现在环境列表中 |

#### TC-ENV-002: 配置环境变量
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已有环境 |
| **测试步骤** | 1. 编辑环境<br>2. 添加多个变量（键值对）<br>3. 保存 |
| **预期结果** | 环境变量保存成功，可在 API 测试中使用 |

#### TC-ENV-003: 设置默认环境
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 有多个环境 |
| **测试步骤** | 1. 选择一个环境<br>2. 设置为默认环境<br>3. 保存 |
| **预期结果** | 该环境成为默认环境，自动应用 |

#### TC-ENV-004: 删除环境
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已有环境 |
| **测试步骤** | 1. 选择环境<br>2. 点击删除<br>3. 确认删除 |
| **预期结果** | 环境删除成功 |

#### TC-ENV-005: 环境变量自动提示
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 已配置环境变量 |
| **测试步骤** | 1. 在 URL 输入框输入 `{{`<br>2. 查看是否出现变量提示 |
| **预期结果** | 显示环境变量列表，可选择使用 |

---

### 2.5 Web 自动化测试模块

#### TC-WEB-001: 创建测试脚本
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 用户已登录 |
| **测试步骤** | 1. 进入 Web 测试页面<br>2. 点击"新建脚本"<br>3. 输入脚本名称<br>4. 编写 Playwright 脚本<br>5. 保存 |
| **预期结果** | 脚本保存成功 |

#### TC-WEB-002: 脚本录制
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 用户已登录，录制服务可用 |
| **测试步骤** | 1. 点击"开始录制"<br>2. 在浏览器中操作<br>3. 停止录制<br>4. 查看生成的脚本 |
| **预期结果** | 成功生成 Playwright 脚本代码 |

#### TC-WEB-003: 执行测试脚本
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已有测试脚本 |
| **测试步骤** | 1. 选择测试脚本<br>2. 选择浏览器（Chromium/Firefox/WebKit）<br>3. 点击"执行"<br>4. 查看执行结果 |
| **预期结果** | 脚本执行成功，显示执行结果和日志 |

#### TC-WEB-004: 元素库管理
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 用户已登录 |
| **测试步骤** | 1. 进入元素库页面<br>2. 添加元素<br>3. 输入元素名称和定位符<br>4. 保存 |
| **预期结果** | 元素保存成功，可在脚本中引用 |

#### TC-WEB-005: 多浏览器支持
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 已有测试脚本 |
| **测试步骤** | 1. 使用 Chromium 浏览器执行脚本<br>2. 使用 Firefox 浏览器执行脚本<br>3. 使用 WebKit 浏览器执行脚本 |
| **预期结果** | 脚本在所有浏览器中都能正确执行 |

#### TC-WEB-006: 脚本模板
| 项目 | 内容 |
|------|------|
| **优先级** | P2 |
| **前置条件** | 用户已登录 |
| **测试步骤** | 1. 点击"使用模板"按钮<br>2. 选择一个模板<br>3. 基于模板创建脚本 |
| **预期结果** | 成功加载模板内容，可直接编辑使用 |

---

### 2.6 性能测试模块

#### TC-PERF-001: 创建性能场景
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 用户已登录 |
| **测试步骤** | 1. 进入性能测试页面<br>2. 点击"新建场景"<br>3. 输入场景名称<br>4. 配置并发用户数、持续时间<br>5. 添加 HTTP 任务<br>6. 保存 |
| **预期结果** | 场景保存成功 |

#### TC-PERF-002: 配置负载参数
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已有性能场景 |
| **测试步骤** | 1. 编辑场景<br>2. 设置用户数、spawn 速率<br>3. 设置运行时间<br>4. 保存 |
| **预期结果** | 负载参数保存成功 |

#### TC-PERF-003: 执行性能测试
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已有性能场景 |
| **测试步骤** | 1. 选择性能场景<br>2. 点击"执行测试"<br>3. 等待测试完成<br>4. 查看测试结果 |
| **预期结果** | 测试执行成功，显示性能指标（RPS、响应时间等） |

#### TC-PERF-004: 查看测试结果
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已执行性能测试 |
| **测试步骤** | 1. 进入测试结果页面<br>2. 查看统计数据<br>3. 查看图表 |
| **预期结果** | 显示完整的性能测试报告 |

#### TC-PERF-005: 快速测试
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已有性能场景 |
| **测试步骤** | 1. 选择场景<br>2. 点击"快速测试"<br>3. 查看实时结果 |
| **预期结果** | 快速执行测试并显示结果 |

---

### 2.7 测试报告模块

#### TC-RPT-001: 查看测试报告
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 有测试执行记录 |
| **测试步骤** | 1. 进入测试报告页面<br>2. 选择测试报告<br>3. 查看详细内容 |
| **预期结果** | 显示完整的测试报告，包括用例执行情况、通过率等 |

#### TC-RPT-002: 导出报告
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 有测试报告 |
| **测试步骤** | 1. 选择测试报告<br>2. 点击"导出"<br>3. 选择格式（HTML/JSON）<br>4. 下载文件 |
| **预期结果** | 成功下载测试报告文件 |

#### TC-RPT-003: 仪表盘统计
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 用户已登录 |
| **测试步骤** | 1. 进入仪表板页面<br>2. 查看统计数据 |
| **预期结果** | 显示测试总数、通过率、最近执行记录等 |

#### TC-RPT-004: 按类型筛选报告
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 有多种类型的测试记录 |
| **测试步骤** | 1. 进入报告页面<br>2. 选择测试类型（API/Web/性能）<br>3. 查看筛选结果 |
| **预期结果** | 只显示指定类型的测试报告 |

---

### 2.8 文档管理模块

#### TC-DOC-001: 创建文档
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 用户已登录 |
| **测试步骤** | 1. 进入文档页面<br>2. 点击"新建文档"<br>3. 输入文档标题、内容<br>4. 选择分类<br>5. 保存 |
| **预期结果** | 文档创建成功 |

#### TC-DOC-002: 编辑 Markdown 文档
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **前置条件** | 已有文档 |
| **测试步骤** | 1. 打开文档<br>2. 使用 Markdown 编辑器编辑内容<br>3. 实时预览<br>4. 保存 |
| **预期结果** | 内容保存成功，Markdown 渲染正确 |

#### TC-DOC-003: 导出文档
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 已有文档 |
| **测试步骤** | 1. 打开文档<br>2. 点击"导出"<br>3. 选择格式（MD/HTML）<br>4. 下载文件 |
| **预期结果** | 成功下载文档文件 |

#### TC-DOC-004: 文档搜索
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **前置条件** | 有多篇文档 |
| **测试步骤** | 1. 在搜索框输入关键词<br>2. 点击搜索 |
| **预期结果** | 显示包含关键词的文档列表 |

---

## 3. 集成测试

### TC-INT-001: 前后端 API 联调
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **测试步骤** | 1. 前端发起 API 请求<br>2. 后端接收并处理请求<br>3. 返回响应<br>4. 前端正确解析响应 |
| **预期结果** | 前后端通信正常，数据格式一致 |

### TC-INT-002: 异步任务测试（Celery）
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **测试步骤** | 1. 触发异步任务（Web 测试执行）<br>2. 检查 Celery Worker 状态<br>3. 等待任务完成<br>4. 查看结果 |
| **预期结果** | Celery 任务正常执行，结果正确保存 |

### TC-INT-003: 数据持久化测试
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **测试步骤** | 1. 创建数据（项目/用例等）<br>2. 保存到数据库<br>3. 重启服务<br>4. 检查数据是否丢失 |
| **预期结果** | 数据正确保存，重启后依然存在 |

### TC-INT-004: 环境变量端到端测试
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **测试步骤** | 1. 创建环境并配置变量<br>2. 在 API 测试中使用环境<br>3. 发送请求<br>4. 验证变量是否被替换 |
| **预期结果** | 环境变量正确替换，请求成功 |

---

## 4. 性能测试

### TC-PERF-101: API 响应时间测试
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **测试步骤** | 1. 发送多个 API 请求<br>2. 记录响应时间<br>3. 计算平均响应时间 |
| **预期结果** | 平均响应时间在可接受范围内（< 500ms） |

### TC-PERF-102: 并发用户测试
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **测试步骤** | 1. 模拟 50 个并发用户<br>2. 执行 API 请求<br>3. 监控系统性能 |
| **预期结果** | 系统稳定，无明显错误 |

### TC-PERF-103: 数据库查询性能测试
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **测试步骤** | 1. 执行复杂查询（大量数据）<br>2. 记录查询时间 |
| **预期结果** | 查询时间在可接受范围内 |

---

## 5. 安全测试

### TC-SEC-001: SQL 注入测试
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **测试步骤** | 1. 在输入框输入 SQL 注入代码<br>2. 提交表单<br>3. 检查系统响应 |
| **预期结果** | 系统正确处理或拒绝，不泄露数据库信息 |

### TC-SEC-002: XSS 攻击测试
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **测试步骤** | 1. 在输入框输入 XSS 脚本<br>2. 保存并查看显示 |
| **预期结果** | 脚本被转义，不执行 |

### TC-SEC-003: CSRF 防护测试
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **测试步骤** | 1. 构造跨站请求<br>2. 尝试执行操作 |
| **预期结果** | 请求被拒绝，需要有效的 CSRF Token |

### TC-SEC-004: 认证授权测试
| 项目 | 内容 |
|------|------|
| **优先级** | P0 |
| **测试步骤** | 1. 未登录访问受保护资源<br>2. 使用过期 Token 访问<br>3. 尝试访问其他用户的数据 |
| **预期结果** | 所有未授权访问都被拒绝 |

---

## 6. 兼容性测试

### TC-COMP-001: 浏览器兼容性
| 项目 | 内容 |
|------|------|
| **优先级** | P1 |
| **测试步骤** | 1. Chrome 浏览器测试<br>2. Firefox 浏览器测试<br>3. Edge 浏览器测试 |
| **预期结果** | 所有浏览器功能正常 |

### TC-COMP-002: 数据库兼容性
| 项目 | 内容 |
|------|------|
| **优先级** | P2 |
| **测试步骤** | 1. 使用 SQLite 测试<br>2. 使用 PostgreSQL 测试 |
| **预期结果** | 两种数据库都能正常工作 |

---

## 7. 验收标准

### 7.1 功能验收
- 所有 P0 用例通过率 100%
- 整体用例通过率 >= 95%
- 无 P0 级别 Bug
- P1 级别 Bug 数量 <= 3

### 7.2 性能验收
- API 平均响应时间 < 500ms
- 支持 50+ 并发用户
- 系统稳定运行无崩溃

### 7.3 安全验收
- 所有已知安全漏洞已修复
- 通过安全测试用例
- 敏感数据加密存储

---

## 8. 测试进度跟踪

### 8.1 测试准备
- [ ] 准备测试环境
- [ ] 安装测试工具
- [ ] 准备测试数据

### 8.2 测试执行
- [ ] 执行功能测试用例
- [ ] 执行集成测试用例
- [ ] 执行性能测试用例
- [ ] 执行安全测试用例
- [ ] 执行兼容性测试用例

### 8.3 缺陷管理
- [ ] 记录发现的 Bug
- [ ] 跟踪 Bug 修复进度
- [ ] 验证 Bug 修复
- [ ] 执行回归测试

### 8.4 测试报告
- [ ] 编写测试执行报告
- [ ] 统计测试覆盖率
- [ ] 分析测试结果
- [ ] 提出改进建议

---

## 9. 测试交付物

### 9.1 测试文档
- 测试计划（本文档）
- 测试用例集
- 测试执行报告
- Bug 清单

### 9.2 测试数据
- 测试账号列表
- 测试数据集
- 性能测试原始数据

### 9.3 其他
- 测试环境配置说明
- 测试工具使用指南
- 回归测试基线

---

## 10. 附录

### 10.1 默认测试账号
- 用户名: `admin`
- 密码: `admin123`

### 10.2 服务地址
- 前端: http://localhost:8080
- 后端 API: http://localhost:5211/api/v1
- Redis: localhost:6379

### 10.3 测试工具
- 浏览器开发者工具
- Postman（用于 API 测试对比）
- Redis CLI
- 数据库管理工具
